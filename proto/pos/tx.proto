syntax = "proto3";

package pos.v1;

option go_package = "nhbchain/proto/pos;posv1";

message MsgAuthorizePayment {
  string payer = 1;
  string merchant = 2;
  string amount = 3;
  uint64 expiry = 4;
  bytes intent_ref = 5;
}

message MsgAuthorizePaymentResponse {
  string authorization_id = 1;
}

message MsgCapturePayment {
  string merchant = 1;
  string authorization_id = 2;
  string amount = 3;
}

message MsgCapturePaymentResponse {
  string authorization_id = 1;
  string captured_amount = 2;
  string refunded_amount = 3;
}

message MsgVoidPayment {
  string merchant = 1;
  string authorization_id = 2;
  string reason = 3;
}

message MsgVoidPaymentResponse {
  string authorization_id = 1;
  string refunded_amount = 2;
  bool expired = 3;
}

service Tx {
  rpc AuthorizePayment(MsgAuthorizePayment) returns (MsgAuthorizePaymentResponse);
  rpc CapturePayment(MsgCapturePayment) returns (MsgCapturePaymentResponse);
  rpc VoidPayment(MsgVoidPayment) returns (MsgVoidPaymentResponse);
}
